<!DOCTYPE html>
<html lang="pt-br">

<head>
  <title>Bresolin Im칩veis | Painel</title>
  <link rel="icon" href="/static/img/icons/favicon_bresolin_rounded.png" type="image/png">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#1c1c1c" />
  <meta name="color-scheme" content="light" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="stylesheet" href="/static/css/admin.css" />


</head>

<body>
  <h1>Painel Administrativo</h1>

  <!-- ========================
       Se칞칚o: Sistema e Backups
  ========================= -->
  <section class="secao-sistema">
    <h2>Sistema e Backups</h2>
    <div class="card-admin">
      <p>Gerencie os dados do sistema e realize c칩pias de seguran칞a.</p>
      <div class="acoes-sistema">
        <button id="btn-backup" class="btn-primario">
          <img src="/static/img/icons/icon_link.svg" alt="" style="width: 16px; filter: invert(1);">
          Fazer Backup do Banco de Dados (.sql)
        </button>
      </div>
    </div>
  </section>

  <!-- ========================
       Se칞칚o: Cadastro de Condom칤nio
  ========================= -->
  <section>
    <h2>Cadastrar Condom칤nio</h2>
    <form id="form-condominio">
      <input type="text" name="nome" placeholder="Nome do condom칤nio" required>
      <input type="text" name="descricao" placeholder="Descri칞칚o">
      <input type="text" name="imagem" placeholder="URL da imagem principal">
      <input type="text" name="bairro" placeholder="Bairro">
      <input type="text" name="cidade" placeholder="Cidade">
      <input type="text" name="uf" placeholder="UF">

      <select name="estagio" id="estagio-select">
        <option value="">Est치gio da obra</option>
        <option value="PRONTA">PRONTA</option>
        <option value="EM CONSTRU칂츾O">EM CONSTRU칂츾O</option>
      </select>

      <input type="text" name="lancamento" placeholder="Data de lan칞amento (texto)">
      <input type="text" name="entrega" id="entrega-input" placeholder="Previs칚o de entrega" disabled>
      <input type="number" name="total_unidades" placeholder="Total de unidades">
      <input type="number" name="n_andares" placeholder="N췈 de andares">

      <div class="input-icon">
        <input type="number" name="area_laje" placeholder="츼rea da laje">
        <span class="suffix">m</span>
      </div>

      <input type="text" name="ri" placeholder="Registro de Incorpora칞칚o (RI)">
      <input type="text" name="iptu" placeholder="IPTU">
      <label class="label-data">칔ltima atualiza칞칚o:</label>
      <input type="date" name="atualizado_em">
      <button type="submit">Cadastrar Condom칤nio</button>
    </form>
  </section>

  <!-- ========================
       Se칞칚o: Cadastro de Im칩vel
  ========================= -->
  <section>
    <h2>Cadastrar Im칩vel</h2>
    <form id="form-imovel">
      <input type="text" name="titulo" placeholder="T칤tulo do im칩vel">
      <textarea name="descricao" placeholder="Descri칞칚o"></textarea>

      <!-- Imagem principal -->
      <div class="grupo-imagem-principal">
        <div class="coluna-imagem">
          <label>Imagem principal:</label>
          <input type="file" id="file-imagem">
          <input type="text" name="imagem" id="input-imagem" placeholder="Ou informe uma URL da imagem">
        </div>
        <div class="coluna-preview">
          <img id="preview-imagem" class="img-preview">
        </div>
      </div>

      <!-- Imagens e plantas -->
      <div class="grupo-galeria">
        <div class="coluna-galeria">
          <label>Imagens secund치rias:</label>
          <input type="file" id="file-secundarias" multiple accept="image/*">
          <div id="lista-secundarias" class="galeria-preview"></div>
        </div>
        <div class="coluna-galeria">
          <label>Plantas do im칩vel:</label>
          <input type="file" id="file-plantas" multiple accept="image/*">
          <div id="lista-plantas" class="galeria-preview"></div>
        </div>
      </div>

      <!-- Campo de Pre칞o com R$ -->
      <div class="campo-preco-admin input-metade">
        <span id="preco-editavel-admin" contenteditable="true" class="preco-digitavel-admin"
          data-placeholder="Ex: 120.000,00"></span>
        <span class="prefixo-rs">R$</span>
        <input type="hidden" name="preco" id="preco-admin-real">
      </div>

      <div class="input-icon">
        <input type="number" name="area" step="0.1" placeholder="츼rea">
        <span class="suffix">m</span>
      </div>


      <!-- Seletores de tipo e finalidade -->
      <select name="tipo" required>
        <option value="">Tipo*</option>
        <option value="casa">Casa</option>
        <option value="apartamento">Apartamento</option>
        <option value="loft">Loft</option>
        <option value="terreno">Terreno</option>
      </select>

      <select name="pretensao">
        <option value="">Finalidade</option>
        <option value="Venda">Venda</option>
        <option value="Aluguel">Aluguel</option>
      </select>

      <!-- Est치gio da obra e entrega -->
      <select name="estagio" id="estagio-imovel-select">
        <option value="">Est치gio da obra</option>
        <option value="PRONTA">PRONTA</option>
        <option value="EM CONSTRU칂츾O">EM CONSTRU칂츾O</option>
      </select>
      <input type="text" name="entrega" id="entrega-imovel-input" placeholder="Previs칚o de entrega" disabled>

      <!-- Dados do im칩vel -->
      <input type="number" name="quartos" placeholder="Quartos">
      <input type="number" name="suites" placeholder="Su칤tes">
      <input type="number" name="banheiros" placeholder="Banheiros">
      <input type="number" name="banheiros_com_chuveiro" placeholder="Banheiros C/ Chuveiro">
      <input type="number" name="vagas" placeholder="Vagas">

      <input type="number" name="andar" placeholder="Andar">
      <input type="text" name="endereco" placeholder="Endere칞o">
      <input type="text" name="bairro" placeholder="Bairro">
      <input type="text" name="cidade" placeholder="Cidade">
      <input type="text" name="uf" placeholder="UF">

      <!-- IPTU formatado -->
      <div class="campo-preco-admin input-metade">
        <span id="iptu-editavel-admin" contenteditable="true" class="preco-digitavel-admin"
          data-placeholder="IPTU"></span>
        <span class="prefixo-rs">R$</span>
        <input type="hidden" name="iptu" id="iptu-admin-real">
      </div>

      <!-- Condom칤nio formatado -->
      <div class="campo-preco-admin input-metade">
        <span id="condominio-editavel-admin" contenteditable="true" class="preco-digitavel-admin"
          data-placeholder="Valor Condominio"></span>
        <span class="prefixo-rs">R$</span>
        <input type="hidden" name="valor_condominio" id="condominio-admin-real">
      </div>






      <!-- Link externo -->
      <input type="text" name="link" placeholder="Link externo (ex: Google Maps)" class="input-metade">
      <input type="text" name="maps_iframe" placeholder="Iframe Google Maps">

      <!-- Campos adicionais -->
      <input type="text" name="campo_extra2" placeholder="Campo Extra 1">



      <!-- Condominio e status -->
      <select name="condominio_id" id="condominio-select">
        <option value="">Sem condom칤nio</option>
      </select>

      <label class="checkbox-custom">
        <input type="checkbox" name="piscina" id="piscina">
        <span class="checkmark"></span>
        Piscina
      </label>

      <label class="checkbox-custom">
        <input type="checkbox" name="churrasqueira" id="churrasqueira">
        <span class="checkmark"></span>
        Churrasqueira
      </label>

      <label><input type="checkbox" name="ativo" checked> Ativo</label>
      <button type="submit">Cadastrar Im칩vel</button>
    </form>
  </section>

  <!-- ========================
       Se칞칚o: Gest칚o de Corretores e Links
  ========================= -->
  <section class="admin-section">
    <h2>Gest칚o de Corretores</h2>
    <div class="card-admin">
      <h3>Adicionar Novo Corretor</h3>
      <form id="form-novo-corretor" style="display: flex; gap: 10px; margin-bottom: 20px;">
        <input type="text" id="novo-corretor-nome" placeholder="Nome do Corretor" required style="flex: 1;">
        <input type="text" id="novo-corretor-senha" placeholder="Senha de Acesso" required style="flex: 1;">
        <button type="submit" class="btn-primario">Adicionar</button>
      </form>

      <h3>Corretores Cadastrados</h3>
      <table class="tabela-admin" style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="background: #f4f4f4; text-align: left;">
            <th style="padding: 10px;">Nome</th>
            <th style="padding: 10px;">Status</th>
            <th style="padding: 10px;">A칞칫es</th>
          </tr>
        </thead>
        <tbody id="lista-corretores">
          <!-- Preenchido via JS -->
        </tbody>
      </table>
    </div>

    <h2 style="margin-top: 40px;">Gerador de Link Personalizado</h2>
    <div class="card-admin">
      <div style="background: #e8f4fd; padding: 15px; border-radius: 6px; border-left: 4px solid #2196F3; margin-bottom: 20px;">
        <h4 style="margin: 0 0 10px 0; color: #0d47a1;">游눠 Como usar Links Personalizados</h4>
        <ol style="margin: 0; padding-left: 20px; color: #333; line-height: 1.6;">
            <li>Selecione um im칩vel na lista abaixo.</li>
            <li>Clique em <b>"Gerar Link"</b>.</li>
            <li>Copie o link gerado e use em seus an칰ncios (Instagram, Facebook, WhatsApp).</li>
            <li>Quando o cliente se cadastrar por esse link, ele cair치 no sistema j치 vinculado a este im칩vel!</li>
        </ol>
      </div>

      <p>Selecione um im칩vel para gerar um link de cadastro espec칤fico.</p>
      <div style="display: flex; gap: 10px; align-items: center;">
        <select id="select-imovel-link" style="flex: 1; padding: 10px;">
          <option value="">Carregando im칩veis...</option>
        </select>
        <button id="btn-gerar-link" class="btn-primario">Gerar Link</button>
      </div>
      
      <div id="container-link-gerado" style="margin-top: 15px; display: none;">
        <div style="display: flex; gap: 10px;">
            <input type="text" id="link-gerado" readonly style="flex: 1; padding: 10px; background: #eee; border: 1px solid #ddd;">
            <button id="btn-copiar-link" class="btn-secundario">Copiar</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ========================
       Lista de im칩veis cadastrados
  ========================= -->
  <section>
    <h2>Im칩veis Cadastrados</h2>
    <div id="lista-admin"></div>
  </section>

  <script src="/static/js/admin.js"></script>
</body>

</html>